(function(j,ee){typeof exports=="object"&&typeof module<"u"?ee(exports):typeof define=="function"&&define.amd?define(["exports"],ee):(j=typeof globalThis<"u"?globalThis:j||self,ee(j["rpn-calculator"]={}))})(this,function(j){"use strict";var ee=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,se=Math.ceil,H=Math.floor,C="[BigNumber Error] ",Ee=C+"Number primitive has more than 15 significant digits: ",q=1e14,O=14,oe=9007199254740991,ue=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Y=1e7,R=1e9;function Ne(w){var h,d,M,p=g.prototype={constructor:g,toString:null,valueOf:null},k=new g(1),S=20,v=4,L=-7,y=21,Q=-1e7,$=1e7,Z=!1,re=1,J=0,ce={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},K="0123456789abcdefghijklmnopqrstuvwxyz",ae=!0;function g(e,i){var r,o,t,l,c,n,f,u,s=this;if(!(s instanceof g))return new g(e,i);if(i==null){if(e&&e._isBigNumber===!0){s.s=e.s,!e.c||e.e>$?s.c=s.e=null:e.e<Q?s.c=[s.e=0]:(s.e=e.e,s.c=e.c.slice());return}if((n=typeof e=="number")&&e*0==0){if(s.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,c=e;c>=10;c/=10,l++);l>$?s.c=s.e=null:(s.e=l,s.c=[e]);return}u=String(e)}else{if(!ee.test(u=String(e)))return M(s,u,n);s.s=u.charCodeAt(0)==45?(u=u.slice(1),-1):1}(l=u.indexOf("."))>-1&&(u=u.replace(".","")),(c=u.search(/e/i))>0?(l<0&&(l=c),l+=+u.slice(c+1),u=u.substring(0,c)):l<0&&(l=u.length)}else{if(_(i,2,K.length,"Base"),i==10&&ae)return s=new g(e),G(s,S+s.e+1,v);if(u=String(e),n=typeof e=="number"){if(e*0!=0)return M(s,u,n,i);if(s.s=1/e<0?(u=u.slice(1),-1):1,g.DEBUG&&u.replace(/^0\.0*|\./,"").length>15)throw Error(Ee+e)}else s.s=u.charCodeAt(0)===45?(u=u.slice(1),-1):1;for(r=K.slice(0,i),l=c=0,f=u.length;c<f;c++)if(r.indexOf(o=u.charAt(c))<0){if(o=="."){if(c>l){l=f;continue}}else if(!t&&(u==u.toUpperCase()&&(u=u.toLowerCase())||u==u.toLowerCase()&&(u=u.toUpperCase()))){t=!0,c=-1,l=0;continue}return M(s,String(e),n,i)}n=!1,u=d(u,i,10,s.s),(l=u.indexOf("."))>-1?u=u.replace(".",""):l=u.length}for(c=0;u.charCodeAt(c)===48;c++);for(f=u.length;u.charCodeAt(--f)===48;);if(u=u.slice(c,++f)){if(f-=c,n&&g.DEBUG&&f>15&&(e>oe||e!==H(e)))throw Error(Ee+s.s*e);if((l=l-c-1)>$)s.c=s.e=null;else if(l<Q)s.c=[s.e=0];else{if(s.e=l,s.c=[],c=(l+1)%O,l<0&&(c+=O),c<f){for(c&&s.c.push(+u.slice(0,c)),f-=O;c<f;)s.c.push(+u.slice(c,c+=O));c=O-(u=u.slice(c)).length}else c-=f;for(;c--;u+="0");s.c.push(+u)}}else s.c=[s.e=0]}g.clone=Ne,g.ROUND_UP=0,g.ROUND_DOWN=1,g.ROUND_CEIL=2,g.ROUND_FLOOR=3,g.ROUND_HALF_UP=4,g.ROUND_HALF_DOWN=5,g.ROUND_HALF_EVEN=6,g.ROUND_HALF_CEIL=7,g.ROUND_HALF_FLOOR=8,g.EUCLID=9,g.config=g.set=function(e){var i,r;if(e!=null)if(typeof e=="object"){if(e.hasOwnProperty(i="DECIMAL_PLACES")&&(r=e[i],_(r,0,R,i),S=r),e.hasOwnProperty(i="ROUNDING_MODE")&&(r=e[i],_(r,0,8,i),v=r),e.hasOwnProperty(i="EXPONENTIAL_AT")&&(r=e[i],r&&r.pop?(_(r[0],-R,0,i),_(r[1],0,R,i),L=r[0],y=r[1]):(_(r,-R,R,i),L=-(y=r<0?-r:r))),e.hasOwnProperty(i="RANGE"))if(r=e[i],r&&r.pop)_(r[0],-R,-1,i),_(r[1],1,R,i),Q=r[0],$=r[1];else if(_(r,-R,R,i),r)Q=-($=r<0?-r:r);else throw Error(C+i+" cannot be zero: "+r);if(e.hasOwnProperty(i="CRYPTO"))if(r=e[i],r===!!r)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Z=r;else throw Z=!r,Error(C+"crypto unavailable");else Z=r;else throw Error(C+i+" not true or false: "+r);if(e.hasOwnProperty(i="MODULO_MODE")&&(r=e[i],_(r,0,9,i),re=r),e.hasOwnProperty(i="POW_PRECISION")&&(r=e[i],_(r,0,R,i),J=r),e.hasOwnProperty(i="FORMAT"))if(r=e[i],typeof r=="object")ce=r;else throw Error(C+i+" not an object: "+r);if(e.hasOwnProperty(i="ALPHABET"))if(r=e[i],typeof r=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(r))ae=r.slice(0,10)=="0123456789",K=r;else throw Error(C+i+" invalid: "+r)}else throw Error(C+"Object expected: "+e);return{DECIMAL_PLACES:S,ROUNDING_MODE:v,EXPONENTIAL_AT:[L,y],RANGE:[Q,$],CRYPTO:Z,MODULO_MODE:re,POW_PRECISION:J,FORMAT:ce,ALPHABET:K}},g.isBigNumber=function(e){if(!e||e._isBigNumber!==!0)return!1;if(!g.DEBUG)return!0;var i,r,o=e.c,t=e.e,l=e.s;e:if({}.toString.call(o)=="[object Array]"){if((l===1||l===-1)&&t>=-R&&t<=R&&t===H(t)){if(o[0]===0){if(t===0&&o.length===1)return!0;break e}if(i=(t+1)%O,i<1&&(i+=O),String(o[0]).length==i){for(i=0;i<o.length;i++)if(r=o[i],r<0||r>=q||r!==H(r))break e;if(r!==0)return!0}}}else if(o===null&&t===null&&(l===null||l===1||l===-1))return!0;throw Error(C+"Invalid BigNumber: "+e)},g.maximum=g.max=function(){return Oe(arguments,p.lt)},g.minimum=g.min=function(){return Oe(arguments,p.gt)},g.random=function(){var e=9007199254740992,i=Math.random()*e&2097151?function(){return H(Math.random()*e)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(r){var o,t,l,c,n,f=0,u=[],s=new g(k);if(r==null?r=S:_(r,0,R),c=se(r/O),Z)if(crypto.getRandomValues){for(o=crypto.getRandomValues(new Uint32Array(c*=2));f<c;)n=o[f]*131072+(o[f+1]>>>11),n>=9e15?(t=crypto.getRandomValues(new Uint32Array(2)),o[f]=t[0],o[f+1]=t[1]):(u.push(n%1e14),f+=2);f=c/2}else if(crypto.randomBytes){for(o=crypto.randomBytes(c*=7);f<c;)n=(o[f]&31)*281474976710656+o[f+1]*1099511627776+o[f+2]*4294967296+o[f+3]*16777216+(o[f+4]<<16)+(o[f+5]<<8)+o[f+6],n>=9e15?crypto.randomBytes(7).copy(o,f):(u.push(n%1e14),f+=7);f=c/7}else throw Z=!1,Error(C+"crypto unavailable");if(!Z)for(;f<c;)n=i(),n<9e15&&(u[f++]=n%1e14);for(c=u[--f],r%=O,c&&r&&(n=ue[O-r],u[f]=H(c/n)*n);u[f]===0;u.pop(),f--);if(f<0)u=[l=0];else{for(l=-1;u[0]===0;u.splice(0,1),l-=O);for(f=1,n=u[0];n>=10;n/=10,f++);f<O&&(l-=O-f)}return s.e=l,s.c=u,s}}(),g.sum=function(){for(var e=1,i=arguments,r=new g(i[0]);e<i.length;)r=r.plus(i[e++]);return r},d=function(){var e="0123456789";function i(r,o,t,l){for(var c,n=[0],f,u=0,s=r.length;u<s;){for(f=n.length;f--;n[f]*=o);for(n[0]+=l.indexOf(r.charAt(u++)),c=0;c<n.length;c++)n[c]>t-1&&(n[c+1]==null&&(n[c+1]=0),n[c+1]+=n[c]/t|0,n[c]%=t)}return n.reverse()}return function(r,o,t,l,c){var n,f,u,s,a,E,N,x,B=r.indexOf("."),I=S,m=v;for(B>=0&&(s=J,J=0,r=r.replace(".",""),x=new g(o),E=x.pow(r.length-B),J=s,x.c=i(V(z(E.c),E.e,"0"),10,t,e),x.e=x.c.length),N=i(r,o,t,c?(n=K,e):(n=e,K)),u=s=N.length;N[--s]==0;N.pop());if(!N[0])return n.charAt(0);if(B<0?--u:(E.c=N,E.e=u,E.s=l,E=h(E,x,I,m,t),N=E.c,a=E.r,u=E.e),f=u+I+1,B=N[f],s=t/2,a=a||f<0||N[f+1]!=null,a=m<4?(B!=null||a)&&(m==0||m==(E.s<0?3:2)):B>s||B==s&&(m==4||a||m==6&&N[f-1]&1||m==(E.s<0?8:7)),f<1||!N[0])r=a?V(n.charAt(1),-I,n.charAt(0)):n.charAt(0);else{if(N.length=f,a)for(--t;++N[--f]>t;)N[f]=0,f||(++u,N=[1].concat(N));for(s=N.length;!N[--s];);for(B=0,r="";B<=s;r+=n.charAt(N[B++]));r=V(r,u,n.charAt(0))}return r}}(),h=function(){function e(o,t,l){var c,n,f,u,s=0,a=o.length,E=t%Y,N=t/Y|0;for(o=o.slice();a--;)f=o[a]%Y,u=o[a]/Y|0,c=N*f+u*E,n=E*f+c%Y*Y+s,s=(n/l|0)+(c/Y|0)+N*u,o[a]=n%l;return s&&(o=[s].concat(o)),o}function i(o,t,l,c){var n,f;if(l!=c)f=l>c?1:-1;else for(n=f=0;n<l;n++)if(o[n]!=t[n]){f=o[n]>t[n]?1:-1;break}return f}function r(o,t,l,c){for(var n=0;l--;)o[l]-=n,n=o[l]<t[l]?1:0,o[l]=n*c+o[l]-t[l];for(;!o[0]&&o.length>1;o.splice(0,1));}return function(o,t,l,c,n){var f,u,s,a,E,N,x,B,I,m,A,P,le,pe,we,X,ne,F=o.s==t.s?1:-1,D=o.c,T=t.c;if(!D||!D[0]||!T||!T[0])return new g(!o.s||!t.s||(D?T&&D[0]==T[0]:!T)?NaN:D&&D[0]==0||!T?F*0:F/0);for(B=new g(F),I=B.c=[],u=o.e-t.e,F=l+u+1,n||(n=q,u=U(o.e/O)-U(t.e/O),F=F/O|0),s=0;T[s]==(D[s]||0);s++);if(T[s]>(D[s]||0)&&u--,F<0)I.push(1),a=!0;else{for(pe=D.length,X=T.length,s=0,F+=2,E=H(n/(T[0]+1)),E>1&&(T=e(T,E,n),D=e(D,E,n),X=T.length,pe=D.length),le=X,m=D.slice(0,X),A=m.length;A<X;m[A++]=0);ne=T.slice(),ne=[0].concat(ne),we=T[0],T[1]>=n/2&&we++;do{if(E=0,f=i(T,m,X,A),f<0){if(P=m[0],X!=A&&(P=P*n+(m[1]||0)),E=H(P/we),E>1)for(E>=n&&(E=n-1),N=e(T,E,n),x=N.length,A=m.length;i(N,m,x,A)==1;)E--,r(N,X<x?ne:T,x,n),x=N.length,f=1;else E==0&&(f=E=1),N=T.slice(),x=N.length;if(x<A&&(N=[0].concat(N)),r(m,N,A,n),A=m.length,f==-1)for(;i(T,m,X,A)<1;)E++,r(m,X<A?ne:T,A,n),A=m.length}else f===0&&(E++,m=[0]);I[s++]=E,m[0]?m[A++]=D[le]||0:(m=[D[le]],A=1)}while((le++<pe||m[0]!=null)&&F--);a=m[0]!=null,I[0]||I.splice(0,1)}if(n==q){for(s=1,F=I[0];F>=10;F/=10,s++);G(B,l+(B.e=s+u*O-1)+1,c,a)}else B.e=u,B.r=+a;return B}}();function he(e,i,r,o){var t,l,c,n,f;if(r==null?r=v:_(r,0,8),!e.c)return e.toString();if(t=e.c[0],c=e.e,i==null)f=z(e.c),f=o==1||o==2&&(c<=L||c>=y)?fe(f,c):V(f,c,"0");else if(e=G(new g(e),i,r),l=e.e,f=z(e.c),n=f.length,o==1||o==2&&(i<=l||l<=L)){for(;n<i;f+="0",n++);f=fe(f,l)}else if(i-=c,f=V(f,l,"0"),l+1>n){if(--i>0)for(f+=".";i--;f+="0");}else if(i+=l-n,i>0)for(l+1==n&&(f+=".");i--;f+="0");return e.s<0&&t?"-"+f:f}function Oe(e,i){for(var r,o=1,t=new g(e[0]);o<e.length;o++)if(r=new g(e[o]),r.s)i.call(t,r)&&(t=r);else{t=r;break}return t}function ge(e,i,r){for(var o=1,t=i.length;!i[--t];i.pop());for(t=i[0];t>=10;t/=10,o++);return(r=o+r*O-1)>$?e.c=e.e=null:r<Q?e.c=[e.e=0]:(e.e=r,e.c=i),e}M=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,i=/^([^.]+)\.$/,r=/^\.([^.]+)$/,o=/^-?(Infinity|NaN)$/,t=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(l,c,n,f){var u,s=n?c:c.replace(t,"");if(o.test(s))l.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(e,function(a,E,N){return u=(N=N.toLowerCase())=="x"?16:N=="b"?2:8,!f||f==u?E:a}),f&&(u=f,s=s.replace(i,"$1").replace(r,"0.$1")),c!=s))return new g(s,u);if(g.DEBUG)throw Error(C+"Not a"+(f?" base "+f:"")+" number: "+c);l.s=null}l.c=l.e=null}}();function G(e,i,r,o){var t,l,c,n,f,u,s,a=e.c,E=ue;if(a){e:{for(t=1,n=a[0];n>=10;n/=10,t++);if(l=i-t,l<0)l+=O,c=i,f=a[u=0],s=f/E[t-c-1]%10|0;else if(u=se((l+1)/O),u>=a.length)if(o){for(;a.length<=u;a.push(0));f=s=0,t=1,l%=O,c=l-O+1}else break e;else{for(f=n=a[u],t=1;n>=10;n/=10,t++);l%=O,c=l-O+t,s=c<0?0:f/E[t-c-1]%10|0}if(o=o||i<0||a[u+1]!=null||(c<0?f:f%E[t-c-1]),o=r<4?(s||o)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||o||r==6&&(l>0?c>0?f/E[t-c]:0:a[u-1])%10&1||r==(e.s<0?8:7)),i<1||!a[0])return a.length=0,o?(i-=e.e+1,a[0]=E[(O-i%O)%O],e.e=-i||0):a[0]=e.e=0,e;if(l==0?(a.length=u,n=1,u--):(a.length=u+1,n=E[O-l],a[u]=c>0?H(f/E[t-c]%E[c])*n:0),o)for(;;)if(u==0){for(l=1,c=a[0];c>=10;c/=10,l++);for(c=a[0]+=n,n=1;c>=10;c/=10,n++);l!=n&&(e.e++,a[0]==q&&(a[0]=1));break}else{if(a[u]+=n,a[u]!=q)break;a[u--]=0,n=1}for(l=a.length;a[--l]===0;a.pop());}e.e>$?e.c=e.e=null:e.e<Q&&(e.c=[e.e=0])}return e}function W(e){var i,r=e.e;return r===null?e.toString():(i=z(e.c),i=r<=L||r>=y?fe(i,r):V(i,r,"0"),e.s<0?"-"+i:i)}return p.absoluteValue=p.abs=function(){var e=new g(this);return e.s<0&&(e.s=1),e},p.comparedTo=function(e,i){return b(this,new g(e,i))},p.decimalPlaces=p.dp=function(e,i){var r,o,t,l=this;if(e!=null)return _(e,0,R),i==null?i=v:_(i,0,8),G(new g(l),e+l.e+1,i);if(!(r=l.c))return null;if(o=((t=r.length-1)-U(this.e/O))*O,t=r[t])for(;t%10==0;t/=10,o--);return o<0&&(o=0),o},p.dividedBy=p.div=function(e,i){return h(this,new g(e,i),S,v)},p.dividedToIntegerBy=p.idiv=function(e,i){return h(this,new g(e,i),0,1)},p.exponentiatedBy=p.pow=function(e,i){var r,o,t,l,c,n,f,u,s,a=this;if(e=new g(e),e.c&&!e.isInteger())throw Error(C+"Exponent not an integer: "+W(e));if(i!=null&&(i=new g(i)),n=e.e>14,!a.c||!a.c[0]||a.c[0]==1&&!a.e&&a.c.length==1||!e.c||!e.c[0])return s=new g(Math.pow(+W(a),n?2-te(e):+W(e))),i?s.mod(i):s;if(f=e.s<0,i){if(i.c?!i.c[0]:!i.s)return new g(NaN);o=!f&&a.isInteger()&&i.isInteger(),o&&(a=a.mod(i))}else{if(e.e>9&&(a.e>0||a.e<-1||(a.e==0?a.c[0]>1||n&&a.c[1]>=24e7:a.c[0]<8e13||n&&a.c[0]<=9999975e7)))return l=a.s<0&&te(e)?-0:0,a.e>-1&&(l=1/l),new g(f?1/l:l);J&&(l=se(J/O+2))}for(n?(r=new g(.5),f&&(e.s=1),u=te(e)):(t=Math.abs(+W(e)),u=t%2),s=new g(k);;){if(u){if(s=s.times(a),!s.c)break;l?s.c.length>l&&(s.c.length=l):o&&(s=s.mod(i))}if(t){if(t=H(t/2),t===0)break;u=t%2}else if(e=e.times(r),G(e,e.e+1,1),e.e>14)u=te(e);else{if(t=+W(e),t===0)break;u=t%2}a=a.times(a),l?a.c&&a.c.length>l&&(a.c.length=l):o&&(a=a.mod(i))}return o?s:(f&&(s=k.div(s)),i?s.mod(i):l?G(s,J,v,c):s)},p.integerValue=function(e){var i=new g(this);return e==null?e=v:_(e,0,8),G(i,i.e+1,e)},p.isEqualTo=p.eq=function(e,i){return b(this,new g(e,i))===0},p.isFinite=function(){return!!this.c},p.isGreaterThan=p.gt=function(e,i){return b(this,new g(e,i))>0},p.isGreaterThanOrEqualTo=p.gte=function(e,i){return(i=b(this,new g(e,i)))===1||i===0},p.isInteger=function(){return!!this.c&&U(this.e/O)>this.c.length-2},p.isLessThan=p.lt=function(e,i){return b(this,new g(e,i))<0},p.isLessThanOrEqualTo=p.lte=function(e,i){return(i=b(this,new g(e,i)))===-1||i===0},p.isNaN=function(){return!this.s},p.isNegative=function(){return this.s<0},p.isPositive=function(){return this.s>0},p.isZero=function(){return!!this.c&&this.c[0]==0},p.minus=function(e,i){var r,o,t,l,c=this,n=c.s;if(e=new g(e,i),i=e.s,!n||!i)return new g(NaN);if(n!=i)return e.s=-i,c.plus(e);var f=c.e/O,u=e.e/O,s=c.c,a=e.c;if(!f||!u){if(!s||!a)return s?(e.s=-i,e):new g(a?c:NaN);if(!s[0]||!a[0])return a[0]?(e.s=-i,e):new g(s[0]?c:v==3?-0:0)}if(f=U(f),u=U(u),s=s.slice(),n=f-u){for((l=n<0)?(n=-n,t=s):(u=f,t=a),t.reverse(),i=n;i--;t.push(0));t.reverse()}else for(o=(l=(n=s.length)<(i=a.length))?n:i,n=i=0;i<o;i++)if(s[i]!=a[i]){l=s[i]<a[i];break}if(l&&(t=s,s=a,a=t,e.s=-e.s),i=(o=a.length)-(r=s.length),i>0)for(;i--;s[r++]=0);for(i=q-1;o>n;){if(s[--o]<a[o]){for(r=o;r&&!s[--r];s[r]=i);--s[r],s[o]+=q}s[o]-=a[o]}for(;s[0]==0;s.splice(0,1),--u);return s[0]?ge(e,s,u):(e.s=v==3?-1:1,e.c=[e.e=0],e)},p.modulo=p.mod=function(e,i){var r,o,t=this;return e=new g(e,i),!t.c||!e.s||e.c&&!e.c[0]?new g(NaN):!e.c||t.c&&!t.c[0]?new g(t):(re==9?(o=e.s,e.s=1,r=h(t,e,0,3),e.s=o,r.s*=o):r=h(t,e,0,re),e=t.minus(r.times(e)),!e.c[0]&&re==1&&(e.s=t.s),e)},p.multipliedBy=p.times=function(e,i){var r,o,t,l,c,n,f,u,s,a,E,N,x,B,I,m=this,A=m.c,P=(e=new g(e,i)).c;if(!A||!P||!A[0]||!P[0])return!m.s||!e.s||A&&!A[0]&&!P||P&&!P[0]&&!A?e.c=e.e=e.s=null:(e.s*=m.s,!A||!P?e.c=e.e=null:(e.c=[0],e.e=0)),e;for(o=U(m.e/O)+U(e.e/O),e.s*=m.s,f=A.length,a=P.length,f<a&&(x=A,A=P,P=x,t=f,f=a,a=t),t=f+a,x=[];t--;x.push(0));for(B=q,I=Y,t=a;--t>=0;){for(r=0,E=P[t]%I,N=P[t]/I|0,c=f,l=t+c;l>t;)u=A[--c]%I,s=A[c]/I|0,n=N*u+s*E,u=E*u+n%I*I+x[l]+r,r=(u/B|0)+(n/I|0)+N*s,x[l--]=u%B;x[l]=r}return r?++o:x.splice(0,1),ge(e,x,o)},p.negated=function(){var e=new g(this);return e.s=-e.s||null,e},p.plus=function(e,i){var r,o=this,t=o.s;if(e=new g(e,i),i=e.s,!t||!i)return new g(NaN);if(t!=i)return e.s=-i,o.minus(e);var l=o.e/O,c=e.e/O,n=o.c,f=e.c;if(!l||!c){if(!n||!f)return new g(t/0);if(!n[0]||!f[0])return f[0]?e:new g(n[0]?o:t*0)}if(l=U(l),c=U(c),n=n.slice(),t=l-c){for(t>0?(c=l,r=f):(t=-t,r=n),r.reverse();t--;r.push(0));r.reverse()}for(t=n.length,i=f.length,t-i<0&&(r=f,f=n,n=r,i=t),t=0;i;)t=(n[--i]=n[i]+f[i]+t)/q|0,n[i]=q===n[i]?0:n[i]%q;return t&&(n=[t].concat(n),++c),ge(e,n,c)},p.precision=p.sd=function(e,i){var r,o,t,l=this;if(e!=null&&e!==!!e)return _(e,1,R),i==null?i=v:_(i,0,8),G(new g(l),e,i);if(!(r=l.c))return null;if(t=r.length-1,o=t*O+1,t=r[t]){for(;t%10==0;t/=10,o--);for(t=r[0];t>=10;t/=10,o++);}return e&&l.e+1>o&&(o=l.e+1),o},p.shiftedBy=function(e){return _(e,-oe,oe),this.times("1e"+e)},p.squareRoot=p.sqrt=function(){var e,i,r,o,t,l=this,c=l.c,n=l.s,f=l.e,u=S+4,s=new g("0.5");if(n!==1||!c||!c[0])return new g(!n||n<0&&(!c||c[0])?NaN:c?l:1/0);if(n=Math.sqrt(+W(l)),n==0||n==1/0?(i=z(c),(i.length+f)%2==0&&(i+="0"),n=Math.sqrt(+i),f=U((f+1)/2)-(f<0||f%2),n==1/0?i="5e"+f:(i=n.toExponential(),i=i.slice(0,i.indexOf("e")+1)+f),r=new g(i)):r=new g(n+""),r.c[0]){for(f=r.e,n=f+u,n<3&&(n=0);;)if(t=r,r=s.times(t.plus(h(l,t,u,1))),z(t.c).slice(0,n)===(i=z(r.c)).slice(0,n))if(r.e<f&&--n,i=i.slice(n-3,n+1),i=="9999"||!o&&i=="4999"){if(!o&&(G(t,t.e+S+2,0),t.times(t).eq(l))){r=t;break}u+=4,n+=4,o=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(G(r,r.e+S+2,1),e=!r.times(r).eq(l));break}}return G(r,r.e+S+1,v,e)},p.toExponential=function(e,i){return e!=null&&(_(e,0,R),e++),he(this,e,i,1)},p.toFixed=function(e,i){return e!=null&&(_(e,0,R),e=e+this.e+1),he(this,e,i)},p.toFormat=function(e,i,r){var o,t=this;if(r==null)e!=null&&i&&typeof i=="object"?(r=i,i=null):e&&typeof e=="object"?(r=e,e=i=null):r=ce;else if(typeof r!="object")throw Error(C+"Argument not an object: "+r);if(o=t.toFixed(e,i),t.c){var l,c=o.split("."),n=+r.groupSize,f=+r.secondaryGroupSize,u=r.groupSeparator||"",s=c[0],a=c[1],E=t.s<0,N=E?s.slice(1):s,x=N.length;if(f&&(l=n,n=f,f=l,x-=l),n>0&&x>0){for(l=x%n||n,s=N.substr(0,l);l<x;l+=n)s+=u+N.substr(l,n);f>0&&(s+=u+N.slice(l)),E&&(s="-"+s)}o=a?s+(r.decimalSeparator||"")+((f=+r.fractionGroupSize)?a.replace(new RegExp("\\d{"+f+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):a):s}return(r.prefix||"")+o+(r.suffix||"")},p.toFraction=function(e){var i,r,o,t,l,c,n,f,u,s,a,E,N=this,x=N.c;if(e!=null&&(n=new g(e),!n.isInteger()&&(n.c||n.s!==1)||n.lt(k)))throw Error(C+"Argument "+(n.isInteger()?"out of range: ":"not an integer: ")+W(n));if(!x)return new g(N);for(i=new g(k),u=r=new g(k),o=f=new g(k),E=z(x),l=i.e=E.length-N.e-1,i.c[0]=ue[(c=l%O)<0?O+c:c],e=!e||n.comparedTo(i)>0?l>0?i:u:n,c=$,$=1/0,n=new g(E),f.c[0]=0;s=h(n,i,0,1),t=r.plus(s.times(o)),t.comparedTo(e)!=1;)r=o,o=t,u=f.plus(s.times(t=u)),f=t,i=n.minus(s.times(t=i)),n=t;return t=h(e.minus(r),o,0,1),f=f.plus(t.times(u)),r=r.plus(t.times(o)),f.s=u.s=N.s,l=l*2,a=h(u,o,l,v).minus(N).abs().comparedTo(h(f,r,l,v).minus(N).abs())<1?[u,o]:[f,r],$=c,a},p.toNumber=function(){return+W(this)},p.toPrecision=function(e,i){return e!=null&&_(e,1,R),he(this,e,i,2)},p.toString=function(e){var i,r=this,o=r.s,t=r.e;return t===null?o?(i="Infinity",o<0&&(i="-"+i)):i="NaN":(e==null?i=t<=L||t>=y?fe(z(r.c),t):V(z(r.c),t,"0"):e===10&&ae?(r=G(new g(r),S+t+1,v),i=V(z(r.c),r.e,"0")):(_(e,2,K.length,"Base"),i=d(V(z(r.c),t,"0"),10,e,o,!0)),o<0&&r.c[0]&&(i="-"+i)),i},p.valueOf=p.toJSON=function(){return W(this)},p._isBigNumber=!0,p[Symbol.toStringTag]="BigNumber",p[Symbol.for("nodejs.util.inspect.custom")]=p.valueOf,w!=null&&g.set(w),g}function U(w){var h=w|0;return w>0||w===h?h:h-1}function z(w){for(var h,d,M=1,p=w.length,k=w[0]+"";M<p;){for(h=w[M++]+"",d=O-h.length;d--;h="0"+h);k+=h}for(p=k.length;k.charCodeAt(--p)===48;);return k.slice(0,p+1||1)}function b(w,h){var d,M,p=w.c,k=h.c,S=w.s,v=h.s,L=w.e,y=h.e;if(!S||!v)return null;if(d=p&&!p[0],M=k&&!k[0],d||M)return d?M?0:-v:S;if(S!=v)return S;if(d=S<0,M=L==y,!p||!k)return M?0:!p^d?1:-1;if(!M)return L>y^d?1:-1;for(v=(L=p.length)<(y=k.length)?L:y,S=0;S<v;S++)if(p[S]!=k[S])return p[S]>k[S]^d?1:-1;return L==y?0:L>y^d?1:-1}function _(w,h,d,M){if(w<h||w>d||w!==H(w))throw Error(C+(M||"Argument")+(typeof w=="number"?w<h||w>d?" out of range: ":" not an integer: ":" not a primitive number: ")+String(w))}function te(w){var h=w.c.length-1;return U(w.e/O)==h&&w.c[h]%2!=0}function fe(w,h){return(w.length>1?w.charAt(0)+"."+w.slice(1):w)+(h<0?"e":"e+")+h}function V(w,h,d){var M,p;if(h<0){for(p=d+".";++h;p+=d);w=p+w}else if(M=w.length,++h>M){for(p=d,h-=M;--h;p+=d);w+=p}else h<M&&(w=w.slice(0,h)+"."+w.slice(h));return w}var ie=Ne();const de=(w,h)=>ie(w).plus(h).toString(),me=(w,h)=>ie(w).minus(h).toString(),xe=(w,h)=>ie(w).times(h).toString(),Ae=(w,h)=>ie(w).div(h).toString(),Se=w=>ie(w).negated().toString(),_e=(w,h)=>{let d={...h};if(h.x.length<1||h.y.length<1||h.z.length<1||h.t.length<1)return d;switch(w){case"enter":d={x:"0",y:h.x,z:h.y,t:h.z};break;case"abs":d={...h,x:Se(h.x)};break;case"swap":d={...h,x:h.y,y:h.x};break;case"backspace":d={...h,x:h.x.length===1?"0":h.x.slice(0,-1)};break;case"/":d={x:Ae(h.y,h.x),y:h.z,z:h.t,t:"0"};break;case"*":d={x:xe(h.y,h.x),y:h.z,z:h.t,t:"0"};break;case"-":d={x:me(h.y,h.x),y:h.z,z:h.t,t:"0"};break;case"+":d={x:de(h.y,h.x),y:h.z,z:h.t,t:"0"};break;default:if(w==="0"&&h.x==="0"||w==="."&&h.x.includes("."))return d;d={...h,x:h.x+w};break}return d};j.rpnCalc=_e,Object.defineProperties(j,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
